[gd_scene load_steps=10 format=3 uid="uid://bmn4r8gqpcu08"]

[ext_resource type="Script" path="res://Main.gd" id="1_kbwwx"]
[ext_resource type="Shader" path="res://visualization/DataGridVis.gdshader" id="2_mh84n"]
[ext_resource type="Script" path="res://example/ProximityComponent.gd" id="2_xi071"]
[ext_resource type="Texture2D" uid="uid://dcrnhhfjy8ssd" path="res://icon.svg" id="3_mbij7"]
[ext_resource type="Script" path="res://visualization/GridSprite.gd" id="4_4yywm"]

[sub_resource type="MathCurve" id="MathCurve_7i80h"]

[sub_resource type="DataGrid" id="DataGrid_ftocu"]
size_in_cells = Vector2i(5, 5)
center = Vector2i(2, 2)
data = Array[float]([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0])

[sub_resource type="DataGrid" id="DataGrid_sif1b"]
size_in_cells = Vector2i(3, 3)
center = Vector2i(1, 1)
data = Array[float]([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0])

[sub_resource type="ShaderMaterial" id="ShaderMaterial_p7g0d"]
shader = ExtResource("2_mh84n")
shader_parameter/grid_size = null
shader_parameter/data_grid = null

[node name="Main" type="Node2D"]
script = ExtResource("1_kbwwx")
testcurve = SubResource("MathCurve_7i80h")
testgrid = SubResource("DataGrid_ftocu")
testgrid2 = SubResource("DataGrid_sif1b")

[node name="DataGridTimer" type="Timer" parent="."]

[node name="MouseProximity" type="Node2D" parent="."]
script = ExtResource("2_xi071")
radius = 150.0

[node name="GridSprite" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_p7g0d")
position = Vector2(640, 360)
scale = Vector2(10, 5.625)
texture = ExtResource("3_mbij7")
script = ExtResource("4_4yywm")

[node name="DataGridManager" type="DataGridManager" parent="."]
world_size = Vector2i(1280, 720)
cell_size = 15
datagrid_size = Vector2i(85, 48)
update_frequency = 0.2

[connection signal="timeout" from="DataGridTimer" to="." method="_on_data_grid_timer_timeout"]
